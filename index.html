<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subscribe for a Rocket League Surprise!</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            height: 100vh;
            background: #4CAF50; /* Grass color */
        }

        .field {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #4CAF50;
            background-image: linear-gradient(to bottom, #4CAF50 50%, #388E3C 50%);
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: -1; /* Make sure the field is behind the car and ball */
        }

        /* Add field lines */
        .field::before {
            content: '';
            position: absolute;
            top: 5%;
            left: 5%;
            width: 90%;
            height: 90%;
            border: 2px solid white;
            border-radius: 5%;
        }

        .center-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 120px;
            height: 120px;
            border: 3px solid white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .halfway-line {
            position: absolute;
            top: 50%;
            left: 5%;
            width: 90%;
            height: 2px;
            background-color: white;
        }

        .goal-zone-left, .goal-zone-right {
            position: absolute;
            top: 0;
            width: 10%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.1);
        }

        .goal-zone-left {
            left: 0;
        }

        .goal-zone-right {
            right: 0;
        }

        .goal {
            position: absolute;
            top: 40%;
            right: 0;
            width: 160px;
            height: 100px;
            border: 5px solid #f4a261;
            border-radius: 20px;
            background-color: #f4a261;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            z-index: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
        }

        /* Ball Image */
        .ball {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100px;
            height: 100px;
            background-image: url('https://i.imgflip.com/6kn7pg.png'); /* Ball image */
            background-size: contain;
            background-repeat: no-repeat;
            transform: translate(-50%, -50%);
            transition: transform 2s cubic-bezier(0.17, 0.67, 0.83, 0.67), opacity 1s;
        }

        /* Car Image */
        .car {
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 300px;  /* Car width increased to 300px */
            height: auto; /* Height adjusted proportionally */
            transition: transform 2s cubic-bezier(0.17, 0.67, 0.83, 0.67);
        }

        /* Explosion effect */
        .explosion {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, orange, red, yellow, transparent);
            border-radius: 50%;
            animation: pulse 0.8s ease-out forwards;
            display: none;
        }

        @keyframes pulse {
            0% {
                opacity: 0;
                transform: scale(0.5);
            }
            100% {
                opacity: 1;
                transform: scale(1.5);
            }
        }

        .message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .subscriber-count {
            position: absolute;
            top: 200px;  /* Adjusted for better alignment */
            font-size: 2rem;
            font-weight: bold;
            color: #f4a261;
            text-align: center;
        }

        /* Chat container */
        .chat-container {
            position: absolute;
            top: 160px;  /* Moved down to prevent overlap with header */
            left: 20px;
            width: 300px;
            height: 400px;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            overflow-y: scroll;
            padding: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            color: #fff;
        }
        .chat-message {
            font-size: 1rem;
            margin: 5px 0;
            color: #f4a261;
        }

        /* Header */
        h1 {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2.5rem;
            font-weight: bold;
            color: #fff;
            text-align: center;
            white-space: nowrap; /* Prevent line breaks */
        }
    </style>
</head>
<body>
    <h1>Subscribe for a Rocket League Surprise!</h1>
    <div class="field">
        <div class="halfway-line"></div>
        <div class="center-circle"></div>
        <div class="goal-zone-left"></div>
        <div class="goal-zone-right"></div>
        <div class="goal" id="goal">GOAL!</div>
        <div class="explosion" id="explosion"></div>
        <div class="message" id="message">GOAL! Thanks for Subscribing!</div>
        <img src="https://i.ibb.co/99nc7xj/Untitled-design-20250119-192011-0000.png" alt="Rocket League Car" class="car" id="car" />
        <div class="ball" id="ball"></div>
    </div>

    <div class="subscriber-count" id="subscriber-count">Subscribers: 0</div>

    <!-- Chat Container -->
    <div class="chat-container" id="chat-container">
        <!-- Chat messages will appear here -->
    </div>

    <script>
        let lastSubscriberCount = 0;
        let currentSubscriberCount = 0;

        // Random subscriber messages
        const subscriberMessages = [
            "I've just subscribed!",
            "Join the team, just subscribed!",
            "Subscribed! Let's go!",
            "You got a new sub, congrats!",
            "I hit that subscribe button!",
            "Boom! Another subscriber!",
            "I just joined the squad!",
            "Another sub added to the list!",
            "I love your content, just subscribed!",
            "Rocket League fan here, just subscribed!"
        ];

        // YouTube API Setup
        const API_KEY = "AIzaSyC2U3iNh5DN5dGr_wiCxcYbA8tOxUWn6MQ"; // Replace with your API key
        const CHANNEL_ID = "UCOp1oJ0_R3R8HP3KbQpEVIg"; // Replace with your channel ID
        const API_URL = `https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNEL_ID}&key=${API_KEY}`;

        // Function to create Rocket League goal animation
        function showRocketLeagueGoal() {
            const car = document.getElementById("car");
            const ball = document.getElementById("ball");
            const explosion = document.getElementById("explosion");
            const message = document.getElementById("message");

            // Move the car to hit the ball
            car.style.transform = "translateX(90vw)";

            // Move the ball into the air and spin it
            setTimeout(() => {
                ball.style.transform = "translateY(-40vh) rotate(720deg)";  // Ball goes up and spins
            }, 100);

            // Explosion effect
            setTimeout(() => {
                explosion.style.display = "block";
                message.style.opacity = 1;

                setTimeout(() => {
                    explosion.style.display = "none";
                    message.style.opacity = 0;
                }, 1500);
            }, 2000);

            // Reset car position after animation
            setTimeout(() => {
                car.style.transform = "translateX(0)";
            }, 3000);
        }

        // Function to update subscriber count and show the message
        async function checkSubscribers() {
            try {
                const response = await fetch(API_URL);
                const data = await response.json();
                currentSubscriberCount = parseInt(data.items[0].statistics.subscriberCount);

                // Update the displayed subscriber count
                const subscriberCountElement = document.getElementById("subscriber-count");
                subscriberCountElement.textContent = `Subscribers: ${currentSubscriberCount}`;

                // Trigger Rocket League goal if subscriber count increases
                if (currentSubscriberCount > lastSubscriberCount) {
                    showRocketLeagueGoal();
                    displayChatMessage(getRandomSubscriberMessage());
                }

                lastSubscriberCount = currentSubscriberCount; // Update the last subscriber count
            } catch (error) {
                console.error("Error fetching subscriber count:", error);
            }
        }

        // Function to get a random subscriber message
        function getRandomSubscriberMessage() {
            const randomIndex = Math.floor(Math.random() * subscriberMessages.length);
            return subscriberMessages[randomIndex];
        }

        // Function to add a message to the chat
        function displayChatMessage(message) {
            const chatContainer = document.getElementById("chat-container");

            // Create a new message element
            const messageElement = document.createElement("div");
            messageElement.classList.add("chat-message");
            messageElement.textContent = `Subscriber: ${message}`;

            // Add the message to the chat container
            chatContainer.appendChild(messageElement);

            // Scroll the chat to the bottom
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Fetch the initial subscriber count
        async function initializeSubscriberCount() {
            try {
                const response = await fetch(API_URL);
                const data = await response.json();
                currentSubscriberCount = parseInt(data.items[0].statistics.subscriberCount);
                lastSubscriberCount = currentSubscriberCount;
                document.getElementById("subscriber-count").textContent = `Subscribers: ${currentSubscriberCount}`;
            } catch (error) {
                console.error("Error initializing subscriber count:", error);
            }
        }

        // Initialize and start checking subscribers
        initializeSubscriberCount();
        setInterval(checkSubscribers, 10000); // Check subscribers every 10 seconds
    </script>
</body>
</html>
