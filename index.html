<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subscribe for a Rocket League Surprise!</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            height: 100vh;
            background: #4CAF50; /* Grass color */
        }

        .field {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #4CAF50;
            background-image: linear-gradient(to bottom, #4CAF50 50%, #388E3C 50%);
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: -1;
        }

        /* Car Image */
        .car {
            position: absolute;
            left: 0; /* Start on the left side */
            top: 50%;
            transform: translateY(-50%);
            width: 300px;
            height: auto;
            transition: transform 2s cubic-bezier(0.17, 0.67, 0.83, 0.67);
        }

        .message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .subscriber-count {
            position: absolute;
            top: 200px;
            font-size: 2rem;
            font-weight: bold;
            color: #f4a261;
            text-align: center;
        }

        /* Header */
        h1 {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2.5rem;
            font-weight: bold;
            color: #fff;
            text-align: center;
            white-space: nowrap; /* Prevent line breaks */
        }
    </style>
</head>
<body>
    <h1>Subscribe for a Rocket League Surprise!</h1>
    <div class="field">
        <img src="https://i.ibb.co/99nc7xj/Untitled-design-20250119-192011-0000.png" alt="Rocket League Car" class="car" id="car" />
        <div class="message" id="message">Thanks for Subscribing!</div>
    </div>

    <div class="subscriber-count" id="subscriber-count">Subscribers: Loading...</div>

    <script>
        const youtubeChannelId = 'UCOp1oJ0_R3R8HP3KbQpEVIg'; // Replace with your YouTube channel ID
        const apiKey = 'AIzaSyC2U3iNh5DN5dGr_wiCxcYbA8tOxUWn6MQ'; // Replace with your YouTube Data API key

        // Array of random thank-you messages
        const thankYouMessages = [
            "You're a legend! Thanks for Subscribing!",
            "Rocket League fan? Thanks for joining the squad!",
            "You rock! Thanks for Subscribing!",
            "Thanks for Subscribing! You're awesome!",
            "Welcome to the team! Thanks for Subscribing!"
        ];

        function fetchSubscriberCount() {
            fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${youtubeChannelId}&key=${apiKey}`)
                .then(response => response.json())
                .then(data => {
                    const subscriberCount = data.items[0].statistics.subscriberCount;
                    document.getElementById("subscriber-count").textContent = `Subscribers: ${subscriberCount}`;
                })
                .catch(error => {
                    console.error('Error fetching YouTube data:', error);
                    document.getElementById("subscriber-count").textContent = 'Error loading subscriber count';
                });
        }

        // Fetch the initial subscriber count and then update it periodically
        fetchSubscriberCount();
        setInterval(fetchSubscriberCount, 60000); // Update every 60 seconds

        let lastSubscriberCount = 0;

        // Function to play sound effect
        function playSoundEffect() {
            const audio = new Audio('https://www.soundjay.com/button/beep-07.wav'); // Replace with Rocket League sound
            audio.play();
        }

        // Function to animate the Rocket League car and show "thank you"
        function showRocketLeagueSurprise() {
            const car = document.getElementById("car");
            const message = document.getElementById("message");

            // Set a random "thank you" message
            message.textContent = thankYouMessages[Math.floor(Math.random() * thankYouMessages.length)];
            message.style.opacity = 1;

            // Move car across the screen
            car.style.transform = "translateX(100vw)"; // Moves car across the screen

            // Play the sound effect
            playSoundEffect();

            // Hide the message and return the car to its starting position
            setTimeout(() => {
                message.style.opacity = 0; // Hide the message
                car.style.transform = "translateX(0)"; // Reset car position
            }, 2500); // Animation duration
        }

        // Check for new subscribers and trigger the animation
        function checkSubscribers() {
            fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${youtubeChannelId}&key=${apiKey}`)
                .then(response => response.json())
                .then(data => {
                    const subscriberCount = data.items[0].statistics.subscriberCount;
                    if (subscriberCount > lastSubscriberCount) {
                        lastSubscriberCount = subscriberCount;
                        showRocketLeagueSurprise(); // Show surprise animation when a new subscriber is detected
                    }
                })
                .catch(error => console.error('Error checking subscriber count:', error));
        }

        // Start checking for new subscribers
        setInterval(checkSubscribers, 5000); // Check every 5 seconds
    </script>
</body>
</html>
